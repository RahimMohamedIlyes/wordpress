(window.vcvWebpackJsonp4x=window.vcvWebpackJsonp4x||[]).push([[0],{"./extendedEditForm/index.js":function(e,t,a){"use strict";a.r(t);var n=a("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),l=a.n(n),r=a("./node_modules/vc-cake/index.js"),i=a("./extendedEditForm/public/src/premiumLibs.json"),o=a("./node_modules/@babel/runtime/helpers/classCallCheck.js"),s=a.n(o),d=a("./node_modules/@babel/runtime/helpers/createClass.js"),c=a.n(d),u=Object(r.getService)("document"),b=Object(r.getService)("cook"),m=Object(r.getStorage)("assets"),p=function(){function e(){s()(this,e)}return c()(e,[{key:"removeAttrs",value:function(e,t){e.forEach((function(e){var a=e.split(/(?=[A-Z])/).join("-").toLowerCase();t.removeAttribute("data-".concat(a))})),t.style.willChange="",t.style.transition="",t.style.transform="",t.classList.remove("vce-tilt")}},{key:"handleParallaxOptions",value:function(e){var t=e.id,a=e.selector,n=b.getById(t).getAll();if(!n.parallax||(!Array.isArray(n.parallax)||n.parallax.length)&&n.parallax.device){var l=a||"#el-".concat(t),r=document.getElementById("vcv-editor-iframe");if(r){var o=r.contentDocument.querySelector(l);if(o){var s=Object.keys(o.dataset).filter((function(e){return e.toLocaleLowerCase().indexOf("tilt")>-1})),d=n.parallax.device,c=Object.keys(d);s.length&&this.removeAttrs(s,o);var p=!1;c.forEach((function(e){var a=d[e].parallax,n=i.find((function(e){return e.value===a}));if(!p&&n){p=n;var l=u.get(t);m.trigger("editSharedLibrary",l)}if(n&&n.value.indexOf("tilt")>-1){var r=d[e].parallaxEnable?"".concat(d[e].parallaxEnable,":").concat(a):d[e].parallaxEnable;o.setAttribute("data-vce-tilt-".concat(e),r),o.classList.add("vce-tilt")}}))}else console.warn("Parallax DOM element not found!")}}}}]),e}(),v=a("./node_modules/@babel/runtime/helpers/extends.js"),f=a.n(v),y=a("./node_modules/react/index.js"),g=a.n(y),x=a("./node_modules/classnames/index.js"),h=a.n(x),j=a("./node_modules/react-dom/server.browser.js");function O(e){var t=e.deviceKey,a=e.content,n={"data-vce-asset-background-animation":!0,"data-vce-asset-background-animation-element":e.atts.id},l=["vce-asset-background-animation-container","vce-visible-".concat(t,"-only")],r=["vce-asset-background-animation"];r.push("vcvhelper");var i=Object(j.renderToStaticMarkup)(g.a.createElement("div",{className:"vce-asset-background-animation"},a));return g.a.createElement("div",f()({className:h()(l)},n),g.a.createElement("div",{className:h()(r),"data-vcvs-html":i}))}var A,k=Object(r.getService)("cook"),T=Object(r.getStorage)("fieldOptions"),w=Object(r.getStorage)("elementsSettings"),S=Object(r.getStorage)("assets"),E=["parallax"],_=new p;function C(e){E.includes(e.fieldType)&&"parallax"===e.fieldType&&_.handleParallaxOptions(e)}function K(e){var t=w.state("extendedOptions").get(),a=t&&t.elements?t.elements:[],n=a.findIndex((function(t){return t.id===e.id}));n<0?a.push(e):(a[n].id=e.id,a[n].fieldKey=e.fieldKey,a[n].fieldType=e.fieldType),w.state("extendedOptions").set({elements:a,backgroundAnimationComponent:O})}A=(A=S.state("attributeLibs").get())?[A].concat(l()(i)):i,S.state("attributeLibs").set(A),T.on("fieldOptions",(function(e,t){var a;t.values=t.values.filter((function(e){return!e.disabled}));var n=i.filter((function(t){return e===t.fieldKey}));(a=t.values).push.apply(a,l()(n)),T.state("currentAttribute:settings").set(t)})),T.on("fieldOptionsChange",(function(e){E.includes(e.fieldType)?K(e):function(e){var t=k.getById(e.id).getAll(),a=e.id;E.forEach((function(e){"parallax"===e&&t[e]&&K({fieldKey:e,fieldType:e,id:a})}))}(e)})),w.state("elementOptions").onChange(C)},"./extendedEditForm/public/src/premiumLibs.json":function(e){e.exports=JSON.parse('[{"fieldKey":"parallax","value":"tilt","label":"Tilt","library":"vanillaTilt","dependencies":[]},{"fieldKey":"parallax","value":"tilt-glare","label":"Tilt glare","library":"vanillaTilt","dependencies":[]},{"fieldKey":"parallax","value":"tilt-reverse","label":"Tilt reverse","library":"vanillaTilt","dependencies":[]},{"fieldKey":"parallax","value":"tilt-reset","label":"Tilt reset","library":"vanillaTilt","dependencies":[]},{"fieldKey":"parallax","value":"backgroundAnimation","label":"Mouse follow animation","description":"Animation will work with multiple images selected as a background.","library":"backgroundAnimation","dependencies":["anime"]}]')},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}},"./node_modules/@babel/runtime/helpers/iterableToArray.js":function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":function(e,t,a){var n=a("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),l=a("./node_modules/@babel/runtime/helpers/iterableToArray.js"),r=a("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");e.exports=function(e){return n(e)||l(e)||r()}}},[["./extendedEditForm/index.js"]]]);