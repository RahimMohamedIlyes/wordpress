(self.vcvWebpackJsonp4x=self.vcvWebpackJsonp4x||[]).push([["element"],{"./imageGalleryWithScaleUp/index.js":function(e,t,a){"use strict";var i=a("./node_modules/vc-cake/index.js"),l=a.n(i),n=a("./node_modules/@babel/runtime/helpers/esm/extends.js"),s=a("./node_modules/@babel/runtime/helpers/esm/typeof.js"),r=a("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=a("./node_modules/@babel/runtime/helpers/esm/createClass.js"),c=a("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),u=a("./node_modules/@babel/runtime/helpers/esm/inherits.js"),p=a("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),m=a("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),g=a("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=a("./node_modules/react/index.js"),h=a("./node_modules/classnames/index.js"),f=a.n(h);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,i=(0,m.default)(e);if(t){var l=(0,m.default)(this).constructor;a=Reflect.construct(i,arguments,l)}else a=i.apply(this,arguments);return(0,p.default)(this,a)}}var v=function(e){(0,u.default)(a,e);var t=b(a);function a(e){var i;return(0,r.default)(this,a),i=t.call(this,e),(0,g.default)((0,c.default)(i),"imageSources",[]),(0,g.default)((0,c.default)(i),"imageOrder",{}),i.createCustomSizeImage=i.createCustomSizeImage.bind((0,c.default)(i)),i}return(0,o.default)(a,[{key:"componentDidMount",value:function(){this.prepareImage(JSON.parse(JSON.stringify(this.props.atts.image)))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.imageSources=[],this.imageOrder={},this.prepareImage(JSON.parse(JSON.stringify(e.atts.image)))}},{key:"prepareImage",value:function(e){var t=this;if(e.length&&"object"===(0,s.default)(e[0])){var a=[];e.forEach((function(e){var i=e;i.full=i.id?i.full:t.getImageUrl(i.full),i.id=i.id?i.id:Math.random(),a.push(e)})),e=a,this.setImageOrder(e),this.resizeImage(e)}var i=[];e.forEach((function(a){e&&e.id,i.push({imgSrc:t.getImageUrl(a)})})),this.setImgSrcState(i)}},{key:"setImageOrder",value:function(e){var t=this;e.forEach((function(e,a){t.imageOrder[a]=e.id}))}},{key:"checkImageSize",value:function(e,t,a){var i=new window.Image;i.onload=function(){var l={width:i.width,height:i.height};t(e,l,a)},i.src=e.full}},{key:"resizeImage",value:function(e){var t=this;e.forEach((function(a){t.checkImageSize(a,t.createCustomSizeImage,e.length)}))}},{key:"createCustomSizeImage",value:function(e,t,a){e.orientation=this.checkOrientation(t),this.imageSources.filter((function(t){return t.id===e.id})).length||this.imageSources.push(e),this.imageSources.length===a&&this.orderImages()}},{key:"orderImages",value:function(){var e=this,t=[];this.imageSources.forEach((function(a,i){var l=e.imageSources.filter((function(t){return t.id===e.imageOrder[i]}));l[0]&&t.push({imgSrc:e.getImageUrl(l[0],"large"),orientation:l[0].orientation,originalSrc:e.getImageUrl(l[0]),alt:l[0].alt,title:l[0].title})})),this.setImgSrcState(t)}},{key:"checkOrientation",value:function(e){return e.width>=e.height?"landscape":"portrait"}},{key:"setImgSrcState",value:function(e){this.setState({imgSrc:e})}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.atts,i=e.editor,l=a.image,s=a.shape,r=a.clickableOptions,o=a.showCaption,c=a.customClass,u=a.metaCustomId,p=a.extraDataAttributes,m=["vce-image-gallery-with-scaleup"],g=["vce","vce-image-gallery-with-scaleup-wrapper"],h=this.getExtraDataAttributes(p),b="div",v=this.state&&this.state.imgSrc;"string"==typeof c&&c&&m.push(c);var y=this.getMixinData("imageGalleryGap");y&&m.push("vce-image-gallery-with-scaleup--gap-".concat(y.selector)),(y=this.getMixinData("imageGalleryColumns"))&&m.push("vce-image-gallery-with-scaleup--columns-".concat(y.selector)),"rounded"===s&&m.push("vce-image-gallery-with-scaleup--border-rounded"),"round"===s&&m.push("vce-image-gallery-with-scaleup--border-round"),u&&(h.id=u);var w=[];v&&v.forEach((function(e,a){var i={},s=["vce-image-gallery-with-scaleup-item-inner"],c=["vce-image-gallery-with-scaleup-img"],u={alt:e&&e.alt?e.alt:"",title:e&&e.title?e.title:""},p={};if("portrait"===e.orientation&&c.push("vce-image-gallery-with-scaleup-img--orientation-portrait"),"url"===r&&l[a].link&&l[a].link.url){b="a";var m=l[a].link;i={href:m.url,title:m.title,target:m.targetBlank?"_blank":void 0,rel:m.relNofollow?"nofollow":void 0}}else"imageNewTab"===r?(b="a",i={href:e.originalSrc||e.imgSrc,target:"_blank"}):"lightbox"===r?(b="a",i={href:e.originalSrc||e.imgSrc,"data-lightbox":"lightbox-".concat(t)}):"photoswipe"===r&&(b="a",i={href:e.originalSrc||e.imgSrc,"data-photoswipe-image":t,"data-photoswipe-index":a},o&&(i["data-photoswipe-caption"]=l[a].caption),h["data-photoswipe-gallery"]=t,p["data-photoswipe-item"]="photoswipe-".concat(t));l[a].filter&&"normal"!==l[a].filter&&s.push("vce-image-filter--".concat(l[a].filter)),s=f()(s),c=f()(c),w.push(d.createElement("div",(0,n.default)({className:"vce-image-gallery-with-scaleup-item",key:"vce-image-gallery-with-scaleup-item-".concat(a,"-").concat(t)},p),d.createElement("div",{className:"vce-image-gallery-with-scaleup-item-inner-wrapper"},d.createElement(b,(0,n.default)({},i,{className:s}),d.createElement("img",(0,n.default)({className:c,src:e.imgSrc},u))))))}));var x=this.applyDO("all");return m=f()(m),g=f()(g),d.createElement("div",(0,n.default)({className:m},i,h),d.createElement("div",(0,n.default)({className:g,id:"el-"+t},x),d.createElement("div",{className:"vce-image-gallery-with-scaleup-list"},w)))}}]),a}(l().getService("api").elementComponent);(0,l().getService("cook").add)(a("./imageGalleryWithScaleUp/settings.json"),(function(e){e.add(v)}),{css:a("./node_modules/raw-loader/index.js!./imageGalleryWithScaleUp/styles.css"),editorCss:a("./node_modules/raw-loader/index.js!./imageGalleryWithScaleUp/editor.css"),mixins:{imageGalleryColumns:{mixin:a("./node_modules/raw-loader/index.js!./imageGalleryWithScaleUp/cssMixins/imageGalleryColumns.pcss")},imageGalleryGap:{mixin:a("./node_modules/raw-loader/index.js!./imageGalleryWithScaleUp/cssMixins/imageGalleryGap.pcss")}}},"")},"./node_modules/raw-loader/index.js!./imageGalleryWithScaleUp/cssMixins/imageGalleryColumns.pcss":function(e){e.exports="@media (min-width: 544px) {\n  .vce-image-gallery-with-scaleup {\n\t&--columns-$selector {\n\t  .vce-image-gallery-with-scaleup-item {\n\t    @if $columns != false {\n\t      -webkit-flex: 0 0 calc(100% / $columns);\n\t          -ms-flex: 0 0 calc(100% / $columns);\n\t              flex: 0 0 calc(100% / $columns);\n\t      max-width: calc(100% / $columns);\n\t    }\n\t  }\n\t}\n  }\n}\n\n"},"./node_modules/raw-loader/index.js!./imageGalleryWithScaleUp/cssMixins/imageGalleryGap.pcss":function(e){e.exports=".vce-image-gallery-with-scaleup {\n  &--gap-$selector {\n    .vce-image-gallery-with-scaleup-list {\n      @if $gap != false {\n        margin-left: calc(-$(gap)px / 2);\n        margin-right: calc(-$(gap)px / 2);\n        margin-bottom: -$(gap)px;\n      }\n    }\n    .vce-image-gallery-with-scaleup-item {\n      @if $gap != false {\n        padding-left: calc($(gap)px / 2);\n        padding-right: calc($(gap)px / 2);\n        margin-bottom: $(gap)px;\n      }\n    }\n  }\n}\n"},"./node_modules/raw-loader/index.js!./imageGalleryWithScaleUp/editor.css":function(e){e.exports=".vce-image-gallery-with-scaleup {\n  min-height: 1em;\n}\n"},"./node_modules/raw-loader/index.js!./imageGalleryWithScaleUp/styles.css":function(e){e.exports='.vce-image-gallery-with-scaleup-list {\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-direction: row;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-justify-content: flex-start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-align-items: stretch;\n      -ms-flex-align: stretch;\n          align-items: stretch;\n  -webkit-align-content: flex-start;\n      -ms-flex-line-pack: start;\n          align-content: flex-start;\n  -webkit-flex-wrap: wrap;\n      -ms-flex-wrap: wrap;\n          flex-wrap: wrap;\n}\n\n.vce-image-gallery-with-scaleup-item {\n  -webkit-flex: 0 0 100%;\n      -ms-flex: 0 0 100%;\n          flex: 0 0 100%;\n  max-width: 100%;\n  box-sizing: border-box;\n}\n\n.vce-image-gallery-with-scaleup-item .vce-image-gallery-with-scaleup-item-inner:hover {\n  box-shadow: none;\n  border-bottom: 0;\n}\n\n.vce-image-gallery-with-scaleup-item-inner {\n  position: relative;\n  display: block;\n  /*overflow: hidden;*/\n}\n\n.vce-image-gallery-with-scaleup-item-inner::after {\n  content: "";\n  padding-bottom: 100%;\n  display: block;\n}\n\n.vce-image-gallery-with-scaleup-item-inner img.vce-image-gallery-with-scaleup-img {\n  position: absolute;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  left: 50%;\n  top: 50%;\n  width: auto;\n  max-width: none;\n  height: 101%;\n}\n\n.vce-image-gallery-with-scaleup-item-inner img.vce-image-gallery-with-scaleup-img--orientation-portrait {\n  width: 101%;\n  height: auto;\n}\n\na.vce-image-gallery-with-scaleup-item-inner {\n  color: transparent;\n  border-bottom: 0;\n  text-decoration: none;\n  overflow: hidden;\n  transition: z-index 0s ease 0.15s, -webkit-transform 0.3s ease;\n  transition: transform 0.3s ease, z-index 0s ease 0.15s;\n  transition: transform 0.3s ease, z-index 0s ease 0.15s, -webkit-transform 0.3s ease;\n}\n\n.vce-image-gallery-with-scaleup-item-inner:hover {\n  -webkit-transform: scale(1.15);\n          transform: scale(1.15);\n  z-index: 1;\n}\n\n.vce-image-gallery-with-scaleup--border-rounded .vce-image-gallery-with-scaleup-item-inner {\n  border-radius: 5px;\n  overflow: hidden;\n}\n\n.vce-image-gallery-with-scaleup--border-round .vce-image-gallery-with-scaleup-item-inner {\n  border-radius: 50%;\n  overflow: hidden;\n}\n'},"./imageGalleryWithScaleUp/settings.json":function(e){"use strict";e.exports=JSON.parse('{"image":{"type":"attachimage","access":"public","value":["image-1.png","image-2.png","image-3.png"],"options":{"multiple":true,"onChange":{"rules":{"clickableOptions":{"rule":"value","options":{"value":"url"}}},"actions":[{"action":"attachImageUrls"}]},"url":false,"imageFilter":true}},"shape":{"type":"buttonGroup","access":"public","value":"square","options":{"label":"Shape","values":[{"label":"Square","value":"square","icon":"vcv-ui-icon-attribute-shape-square"},{"label":"Rounded","value":"rounded","icon":"vcv-ui-icon-attribute-shape-rounded"},{"label":"Round","value":"round","icon":"vcv-ui-icon-attribute-shape-round"}]}},"designOptions":{"type":"designOptions","access":"public","value":[],"options":{"label":"Design Options"}},"advancedTab":{"type":"group","access":"protected","value":["htmlAttributes","customAttributes","customCSS"],"options":{"label":"Advanced","isSections":true}},"metaEditFormTabs":{"type":"group","access":"protected","value":["contentTab","designTab","advancedTab"]},"relatedTo":{"type":"group","access":"protected","value":["General"]},"customClass":{"type":"string","access":"public","value":"","options":{"label":"Extra class name","description":"Add an extra class name to the element and refer to it from the custom CSS option."}},"clickableOptions":{"type":"dropdown","access":"public","value":"lightbox","options":{"label":"OnClick action","description":"Choose an event performed when clicking on the image.","values":[{"label":"None","value":""},{"label":"Lightbox","value":"lightbox"},{"label":"PhotoSwipe","value":"photoswipe"},{"label":"Open the image in a new tab","value":"imageNewTab"},{"label":"Link selector","value":"url"}]}},"showCaption":{"type":"toggle","access":"public","value":false,"options":{"label":"Show the image caption in gallery view","onChange":{"rules":{"clickableOptions":{"rule":"value","options":{"value":"photoswipe"}}},"actions":[{"action":"toggleVisibility"}]}}},"gap":{"type":"number","access":"public","value":"10","options":{"label":"Gap","description":"Enter the gap in pixels (example: 5).","min":0,"cssMixin":{"mixin":"imageGalleryGap","property":"gap","namePattern":"[\\\\da-f]+"}}},"columns":{"type":"number","access":"public","value":"3","options":{"label":"Number of columns","min":1,"cssMixin":{"mixin":"imageGalleryColumns","property":"columns","namePattern":"[\\\\da-f]+"}}},"metaCustomId":{"type":"customId","access":"public","value":"","options":{"label":"Element ID","description":"Apply a unique ID to the element to link it directly by using #your_id (for element ID use lowercase input only)."}},"tag":{"access":"protected","type":"string","value":"imageGalleryWithScaleUp"},"sharedAssetsLibrary":{"access":"protected","type":"string","value":{"libraries":[{"rules":{"clickableOptions":{"rule":"value","options":{"value":"lightbox"}}},"libsNames":["lightbox"]},{"rules":{"clickableOptions":{"rule":"value","options":{"value":"photoswipe"}}},"libsNames":["photoswipe"]}]}},"htmlAttributes":{"type":"group","access":"public","value":["metaCustomId","customClass"],"options":{"label":"HTML Attributes"}},"customCSS":{"type":"group","access":"public","value":["styleEditor"],"options":{"label":"Custom CSS","tooltip":"Add custom CSS to the element using the [element-id] placeholder."}},"styleEditor":{"type":"styleEditor","access":"public","value":[],"options":[]},"customAttributes":{"type":"group","access":"public","value":["extraDataAttributes"],"options":{"label":"Custom Attributes"}},"extraDataAttributes":{"type":"string","access":"public","value":"","options":{"label":"Extra Data Attributes","description":"Add data attributes to your element (ex. data-name=\\"John Lennon\\" data-age=\\"28\\")"}},"designTab":{"type":"group","access":"protected","options":{"label":"Design","isSections":true},"value":["styleSection","designOptions"]},"styleSection":{"type":"group","access":"protected","options":{"label":"Style"},"value":["columns","gap","shape"]},"contentTab":{"type":"group","access":"protected","options":{"label":"Content","isSections":true},"value":["contentSection"]},"contentSection":{"type":"group","access":"protected","options":{"label":"Content"},"value":["clickableOptions","showCaption","image"]}}')}},[["./imageGalleryWithScaleUp/index.js"]]]);